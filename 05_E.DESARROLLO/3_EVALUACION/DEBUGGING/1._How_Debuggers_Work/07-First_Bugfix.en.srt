1
00:00:00,000 --> 00:00:03,000
Vamos a extender el código Python adecuadamente

2
00:00:03,000 --> 00:00:06,000
para que ahora tengamos tres estados en lugar de solo dos.

3
00:00:06,000 --> 00:00:10,000
Así que estamos introduciendo una variable llamada "quote", que inicialmente es falsa,

4
00:00:10,000 --> 00:00:12,000
porque al principio estábamos en modo no etiqueta.

5
00:00:12,000 --> 00:00:16,000
Y ahora, simplemente verificamos si hay comillas dobles o comillas simples,

6
00:00:16,000 --> 00:00:19,000
y si vemos alguna de estas, la variable "quote" se invierte.

7
00:00:19,000 --> 00:00:25,000
Y ahora, si "quote" está activada, entonces los caracteres de marcado HTML no deben tener efecto.

8
00:00:25,000 --> 00:00:29,000
Así que nos aseguramos de que los caracteres de marcado HTML solo tengan efecto si "quote" está activada.

9
00:00:29,000 --> 00:00:34,000
Finalmente, debemos asegurarnos de que las comillas solo tengan un significado especial dentro de las etiquetas,

10
00:00:34,000 --> 00:00:36,000
así que hacemos esto "endtag" en su lugar.

11
00:00:36,000 --> 00:00:42,000
Todavía tenemos nuestro ejemplo aquí abajo, que anteriormente falló, debido a la salida "quote foo".

12
00:00:42,000 --> 00:00:46,000
Veamos dónde se maneja correctamente esta salida ahora y hacemos clic en ejecutar.

13
00:00:46,000 --> 00:00:48,000
La salida es "foo".

14
00:00:48,000 --> 00:00:53,000
Todo el marcado HTML--puedes leer esta combinación compleja de comillas

15
00:00:53,000 --> 99:59:59,000
y caracteres de fin de marcado ahora se eliminan correctamente--genial.